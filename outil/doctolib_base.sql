-- =================================================================
-- Base DOCTOLIB version 3
-- Marc LEMERCIER, le 2 mai 2023
-- =================================================================

-- Table : SPECIALITE
CREATE TABLE IF NOT EXISTS SPECIALITE (
    idSpecialite INTEGER UNSIGNED NOT NULL, 
    label VARCHAR(40) NOT NULL,
    PRIMARY KEY (idSpecialite)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;

INSERT INTO SPECIALITE VALUES (0, "je ne suis pas un praticien");
INSERT INTO SPECIALITE VALUES (1, "médecin généraliste");
INSERT INTO SPECIALITE VALUES (2, "infirmier");
INSERT INTO SPECIALITE VALUES (3, "dentiste");
INSERT INTO SPECIALITE VALUES (4, "sage-femme");
INSERT INTO SPECIALITE VALUES (5, "ostéopathe");
INSERT INTO SPECIALITE VALUES (6, "kinésithérapeute");

-- Table : PERSONNE
CREATE TABLE IF NOT EXISTS PERSONNE (
    idPersonne INTEGER UNSIGNED NOT NULL,
    nom VARCHAR(40) NOT NULL,
    prenom VARCHAR(40) NOT NULL,
    adresse VARCHAR(40) NOT NULL, 
    login VARCHAR(20) NOT NULL,
    password VARCHAR(20) NOT NULL,
    statut INTEGER UNSIGNED NOT NULL,
    idSpecialite INTEGER UNSIGNED NOT NULL,   
    PRIMARY KEY (idPersonne), 
    FOREIGN KEY (idSpecialite) REFERENCES SPECIALITE(idSpecialite)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;

-- Les administrateurs
INSERT INTO PERSONNE VALUES (10, "GAILLARD", "Paul", "Troyes", "boss1", "secret", 0, 0);
INSERT INTO PERSONNE VALUES (20, "LERMINIAUX", "Christian", "Troyes", "boss2", "secret", 0, 0);
INSERT INTO PERSONNE VALUES (30, "KOCH", "Pierre", "Troyes", "boss3", "secret", 0, 0);
INSERT INTO PERSONNE VALUES (40, "COLLET", "Christophe", "Troyes", "boss4", "secret", 0, 0);

-- Les praticiens
INSERT INTO PERSONNE VALUES (50, "PASTEUR", "Louis", "Paris", "pasteur", "secret", 1, 1);
INSERT INTO PERSONNE VALUES (60, "PARE", "Ambroise", "Rennes", "pare", "secret", 1, 1);
INSERT INTO PERSONNE VALUES (70, "LAENNEC", "René", "Nantes", "laennec", "secret", 1, 1);
INSERT INTO PERSONNE VALUES (80, "CALMETTE", "Albert", "Lille", "calmette", "secret", 1, 1);
INSERT INTO PERSONNE VALUES (90, "ROUX", "Emile", "Paris", "roux", "secret", 1, 1);

INSERT INTO PERSONNE VALUES (100, "PRIOR", "Beatrice", "Troyes", "prior", "secret", 1, 2);
INSERT INTO PERSONNE VALUES (110, "EATON", "Tobias", "Reims", "tobias", "secret", 1, 5);
INSERT INTO PERSONNE VALUES (120, "MATTHEWS", "Jeanine", "Dijon", "matthews", "secret", 1, 3);

-- Les patients
INSERT INTO PERSONNE VALUES (201, "VENTURA", "Lino", "Paris", "ventura", "secret", 2, 0);
INSERT INTO PERSONNE VALUES (202, "DELON", "Alain", "Paris", "delon", "secret", 2, 0);
INSERT INTO PERSONNE VALUES (203, "GABIN", "Jean", "Paris", "gabin", "secret", 2, 0);
INSERT INTO PERSONNE VALUES (204, "HUPPERT", "Isabelle", "Troyes", "huppert", "secret", 2, 0);
INSERT INTO PERSONNE VALUES (205, "COTILLARD", "Marion", "Troyes", "cotillard", "secret", 2, 0);
INSERT INTO PERSONNE VALUES (206, "DEPP", "Lily Rose", "Troyes", "depp", "secret", 2, 0);
-- Patient ZERO pour les RDV disponibles
INSERT INTO PERSONNE VALUES (0, "?", "?", "?", "?", "?", 2, 0);

-- Table : RENDEZVOUS
CREATE TABLE IF NOT EXISTS RENDEZVOUS (
    idRendezvous INTEGER UNSIGNED NOT NULL,
    patient_id INTEGER UNSIGNED NOT NULL, 
    praticien_id INTEGER UNSIGNED NOT NULL,
    rdv_date VARCHAR(20),
    PRIMARY KEY (idRendezvous), 
    FOREIGN KEY (patient_id) REFERENCES PERSONNE(idPersonne), 
    FOREIGN KEY (praticien_id) REFERENCES PERSONNE(idPersonne)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;

INSERT INTO RENDEZVOUS VALUES (1, 201, 50, "2023-05-22 à 10h00");
INSERT INTO RENDEZVOUS VALUES (2, 202, 50, "2023-05-22 à 11h00");
INSERT INTO RENDEZVOUS VALUES (3, 203, 50, "2023-05-22 à 12h00");
INSERT INTO RENDEZVOUS VALUES (4, 0, 50, "2023-05-22 à 13h00");
INSERT INTO RENDEZVOUS VALUES (5, 0, 50, "2023-05-22 à 14h00");
INSERT INTO RENDEZVOUS VALUES (6, 0, 50, "2023-05-22 à 15h00");
INSERT INTO RENDEZVOUS VALUES (7, 0, 50, "2023-05-22 à 16h00");
INSERT INTO RENDEZVOUS VALUES (8, 0, 50, "2023-05-22 à 17h00");
INSERT INTO RENDEZVOUS VALUES (9, 0, 50, "2023-05-22 à 18h00");
INSERT INTO RENDEZVOUS VALUES (10, 0, 50, "2023-05-22 à 19h00");
INSERT INTO RENDEZVOUS VALUES (11, 201, 60, "2023-05-25 à 10h00");
INSERT INTO RENDEZVOUS VALUES (12, 0, 60, "2023-05-25 à 11h00");
INSERT INTO RENDEZVOUS VALUES (13, 0, 60, "2023-05-25 à 12h00");
INSERT INTO RENDEZVOUS VALUES (14, 0, 60, "2023-05-25 à 13h00");
INSERT INTO RENDEZVOUS VALUES (15, 0, 60, "2023-05-25 à 14h00");
INSERT INTO RENDEZVOUS VALUES (16, 0, 60, "2023-05-25 à 15h00");
INSERT INTO RENDEZVOUS VALUES (17, 0, 60, "2023-05-25 à 16h00");
INSERT INTO RENDEZVOUS VALUES (18, 205, 60, "2023-05-25 à 17h00");
INSERT INTO RENDEZVOUS VALUES (19, 0, 70, "2023-05-30 à 10h00");
INSERT INTO RENDEZVOUS VALUES (20, 0, 70, "2023-05-30 à 11h00");
INSERT INTO RENDEZVOUS VALUES (21, 0, 70, "2023-05-30 à 12h00");
INSERT INTO RENDEZVOUS VALUES (22, 0, 70, "2023-05-30 à 13h00");
INSERT INTO RENDEZVOUS VALUES (23, 0, 70, "2023-05-30 à 14h00");
INSERT INTO RENDEZVOUS VALUES (24, 201, 70, "2023-05-30 à 15h00");
INSERT INTO RENDEZVOUS VALUES (25, 0, 70, "2023-05-30 à 16h00");
INSERT INTO RENDEZVOUS VALUES (26, 0, 70, "2023-05-30 à 17h00");
INSERT INTO RENDEZVOUS VALUES (27, 0, 70, "2023-05-30 à 18h00");
INSERT INTO RENDEZVOUS VALUES (28, 0, 70, "2023-05-30 à 19h00");
INSERT INTO RENDEZVOUS VALUES (29, 0, 70, "2023-05-30 à 20h00");
INSERT INTO RENDEZVOUS VALUES (30, 0, 70, "2023-05-30 à 21h00");
INSERT INTO RENDEZVOUS VALUES (31, 0, 80, "2023-05-20 à 10h00");
INSERT INTO RENDEZVOUS VALUES (32, 0, 80, "2023-05-20 à 11h00");
INSERT INTO RENDEZVOUS VALUES (33, 206, 80, "2023-05-20 à 12h00");
INSERT INTO RENDEZVOUS VALUES (34, 202, 80, "2023-05-20 à 13h00");
INSERT INTO RENDEZVOUS VALUES (35, 203, 80, "2023-05-20 à 14h00");
INSERT INTO RENDEZVOUS VALUES (36, 0, 90, "2023-06-01 à 10h00");
INSERT INTO RENDEZVOUS VALUES (37, 0, 90, "2023-06-01 à 11h00");
INSERT INTO RENDEZVOUS VALUES (38, 0, 90, "2023-06-01 à 12h00");
INSERT INTO RENDEZVOUS VALUES (39, 0, 90, "2023-06-01 à 13h00");
INSERT INTO RENDEZVOUS VALUES (40, 0, 90, "2023-06-01 à 14h00");
INSERT INTO RENDEZVOUS VALUES (41, 204, 90, "2023-06-01 à 15h00");
INSERT INTO RENDEZVOUS VALUES (42, 0, 90, "2023-06-01 à 16h00");
INSERT INTO RENDEZVOUS VALUES (43, 0, 90, "2023-06-01 à 17h00");
